<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <h3>1.비동기 처리</h3>
        <script>
            console.log('here1...');

            // 비동기 처리 (논블록킹)
            setTimeout(function(){
                console.log('here2...');
            }, 0);

            
            
            console.log('here3...');

            // 콜백함수를 이용한 비동기 처리
            console.log('start...');

            function start(callback) {
            
                setTimeout(function(){
                    console.log('process...');

                    // 작업 후 callback 함수 end 호출
                    callback();
                }, 1000);
            }

            function end(){
                console.log('end...');
            }

            //process(end());
            
            // 콜백지옥 : 비동기 처리함수가 중첩되는 현상
            function step1(callback){
                setTimeout(function(){
                    console.log('step1...');
                    callback();
                }, 1000);
            }
            function step2(callback){
                setTimeout(function(){
                    console.log('step2...');
                    callback();
                }, 3000);
            }
            function step3(callback){
                setTimeout(function(){
                    console.log('step3...');
                    callback();
                }, 2000);
            }

            step1(function(){
                // 이 함수가 step1의 인자로 들어가죠?
                step2(function(){
                    // 이건 step2함수의 콜백으로 들어가죵
                    step3(function(){
                        console.log('done...');
                    });
                })
            });
            // 이게 콜백지옥임

        </script>
    </body>
</html>